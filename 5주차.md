# 5주차 

##무엇이 우리를 행복하게 하는가?

### 몰입

미하이 칙센트미하이의 몰입 Ted 동영상

### 책

몰입의 즐거움

- 삶에 있어 몰입이 미치는 영향은?
- TV보기, 게임 등은 몰입이 쉬운데, 독서, 학습 등이 몰입을 하기 어려운 이유에 대해 설명하고 있음.
- 몰입할 수 있는 환경을 만드는 방법은?

### 지루한 환경에서 몰입할 수 있는 환경을 만들려면

- 실력 낮추기
- 난이도 높이기

일이 한사람의 인생을 얼마나 값지게 하는 가를 결정하는 것은 외부조건이 아니다.

문제는 **일을 어떻게 하고 일하는 과정에서 맞딱뜨리는 어려움에서 어떤 경험을 끌어내는 것**에 달려 있다.

단, 일이 인생의 전부는 아니다.

- 몰입의 즐거움 책에서

삶의 지배권을 되찾을 수 있는 유일한 방법은 **우리 자신의 의지가 원하는 방향으로 마음을 기울이는 요령을 터득하는 것**이다.

##  수업

- TDD로 도메인에 로직을 구현하라.
- API 테스트를 통해 불안감을 해소 할 수있다. 중요한 부분부터 테스트를 추가하자
  - 시간이 있으면 Controller, Service 를 테스트 하자.
- 시간이 충분하다면 모든 부분을 테스트하는 것이 좋다. 하지만 현실은 그렇지 않다. 어느 부분에 우선둔위를 두고 테스트 할 것인가?

### Service는 어떤 단위로 추가하는 것이 좋을까?

- Entity마다 Service를 하나씩 추가하면 되는 것 아닌가?
  - 꼭 그래야만 하는것은 아니다. 
  - 설계가 중요하다.
  - 의존관계 여부가 어느정도인지 파악하자.
    - Question과 Answer는 밀접 하지만 User는 아니다.
    - 파일첨부 기능이 Question에서만 사용하다가 다른 곳에 서도 쓰이면 관계를 분리한다.
    - 관계를 분리한 각 Module이 MSA로 분리 될 수 있다.
  - 객체의 의존관계에 따라 package, Component, Module 의 구성이 될 수 있다.
  - 서로 바이디렉션 관계를 맺으면 커플링이 높다. 수정이 있을시 변경되는 곳이 많을 수 있다.
  - 관계는 단방향으로 만들어야 한다.
  - 커플링이 높은 관계를 가진 클래스는 같이 이동한다. 바이디렉션 관계여도 된다.
- 기준을 어떻게 잡으면 될까?
- 인터페이스는 꼭 필요한가?
  - 2종류의 클래스를 만드는 경우가 생기면 그떄 인터페이스를 생성해도 괜찮지 않을까?
- 하는 일을 다른 객체한테 위임하라.
- 테스트 할때 객체를 꺼내지말고 객체를 넘겨라
- 빌터 패턴을 이용하자
- 서버가(개발서버) 물리적으로 분리되어 있는 경우 테스트 하고 싶을때 다른 클래스를 의존하고 있으면 테스트가 불가능하다.
  - API로 요청을 보내고 나서 데이터를 가지고 오고 테스트를 진행한다.
- 에러 처리를 어노테이션 별로 다르게 중앙집중적으로 처리하자.
- Setter는 DTO에서만 사용한다.
  - 로직이 간단하다면 도메인 객체를 사용해도 괜찮지만 복잡도가 증가하면 DTO를 사용하자.
  - DTO는 입력받는 데이터만 사용한다.
  - 상황에 따라 DTO를 만든다.



## 