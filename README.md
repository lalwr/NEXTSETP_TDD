# TDD, Refactoring, Clean Code 3기 By 박재성

## 수업

- 기간 : 2018년 11월 2일(금) ~ 12월 7일(금)
- 시간:  금요일 19시30분 ~ 22시30분(3시간)
- 장소 : 마이캠퍼스 7층

## 미션

- 자동차 경주 게임(JAVA) 
- 로또(JAVA)
- 사다리타기(JAVA) 
- 질문 답변 게시판(web With JAVA)
- 볼링 게임 점수팜(JAVA)

> **사다리타기까지 완료**해야 수료증발급
>
> **질문 답변 게시판까지 완료**해야 최소 기업 추천 조건

## 과정 학습 목표

- TDD, 리팩토링, 클린코드
- 순수 자바, 웹 기반으로 객체지향 프로그래밍
- ADD개발

### 1주차 - 단위 테스트, 메소드 분리

- JUnit을 활용한 단위 테스트 이론 및 실습
- 온라인 코드 리뷰 방식 공유
- 초간단 자동차 경주 게임 구현 및 코드 리뷰
- spark.java를 활용한 웹 프로그래밍

### 2주차 - TDD, 클래스 분리

- 초간단 자동차 경주 게임 피드백
- TDD/리팩토링 강의
- 문자열 계산기 구현을 통한 TDD/리팩토링 실습
- 로또 미션 구현 및 코드 리뷰

### 3주차 - 함수형 프로그래밍, Steam, 람다

- 로또 미션 피드백
- 함수형 프로그래밍, 자바 8의 stream과 람다 강의 및 실습
- 사다리 타기 구현 및 코드 리뷰

### 4주차 - ATDD, OOP

- 사다리 타기 미션 피드백
- ATDD, 웹 프로그래밍 아키텍처 및 테스트 강의
- 질문/답변 게시판에서 ATDD 실습
- 질문/답변 게시판 미션 구현 및 코드 리뷰

### 5주차 - 웹에서 ATDD, 리팩토링, Clean Code

### 6주차 - 과정 마무리

### 보너스 미션 - 볼링 게임 점수 게시판 구현

## 주차별 과정

- 매주 금요일
  - 이론 강의 및 미션 피드백 : 2시간
  - 미션 진행 : 1시간
  - 미션 진행시 자유롭게 Q&A가능함
- 금요일 이외 시간
  - 온라인 코드 리뷰
    - 24시간 이내에 피드백을 주는 것을 목표로 함.

## 온라인 코드 리뷰

- 24시간 이내에 피드백을 주는 것을 목표로 함.

- 코드리뷰 하는 방법

  - [1단계]: https://github.com/next-step/nextstep-docs/blob/master/codereview/review-step1.md

  - [2단계]: https://github.com/next-step/nextstep-docs/blob/master/codereview/review-step2.md

  - [3단계]: https://github.com/next-step/nextstep-docs/blob/master/codereview/review-step3.md

## 의식적인 연습

### 아마추어와 프로의 결정적 차이

**목적의식 있는 연습**에 얼마나 많은 시간을 투자했느냐?

### 의식적인 연습의 7가지 원칙

- 첫쨰, 효과적인 훈련 기법이 수립되어 있는 기술 연마
- 둘째, 개인의 **컴포트 존**을 벗어난 지점에서 진행, 자신의 현재 능력을 살짝 넘어가는 작업을 지속적으로 시도
- 셋째, **명확하고 구체적인 목표**를 가지고 진행
- 넷째, 신중하고 계획적이다. 즉, 개인이 온전히 집중하고 '의식적'으로 행동할 것을 요구
- 다섯째, **피드백과 피드백에 따른 행동 변경을 수반**
- 여섯째, 효과적인 심적 표상을 만들어내는 한편으로 심적 표상에 의존
- 일곱째, 기**존에 습득한 기술의 특정 부분을 집중적으로 개선함으로써 발전** 시키고, 수정하는 과정을 수반

### 의식적인 연습 1 - 온라인 코드 리뷰

- 단계별 난이도를 높혀 가면서 미션 진행
- 코드 리뷰를 통해 피드백

### 의식적인 연습 2 - 객체지향 생활 체조 원칙

- 규칙 1 : 한 메서드에 오직 한 단계의 들여쓰기(indent)만 한다.
- 규칙 2 : else 예약어를 쓰지 않는다.
- 규칙 3 : 모든 원시값과 문자열을 포장한다.
- 규칙 4 : 한 줄에 점을 하나만 찍는다.
- 규칙 5 : 줄어쓰지 않는다.(축약 금지).
- 규칙 6 : 모든 엔티티를 작게 유지한다.
- 규칙 7: 2개 이상의 인스턴스 변수를 가진 클래스를 쓰지 않는다.
- 규칙 8: 일급 콜렉션을 쓴다.
- 규칙 9: 게터/세터/프로퍼티를 쓰지 않는다.

### 의식적인 연습 도구 3 - 테스트

- 테스트 가능한 코드를 구현하면서 자연스럽게 피드백을 받음.
- 테스트를 통해 빠른 피드백을 받는 것이 가능함.

## 과정을 슬기롭게 하는 방법

### 주변 정리 및 우선순위 조정

- 시간 확보
  - 애인과의 만남 시간 조정. 예로 2주에 1회
  - 친구들과의 관계 끊기
  - 야근하면서 미션 구현하기
- 우선순위 조정
  - 프로그래밍 관련 책만 읽기
  - TV 보지 않기, 게임하지 않기 등

### 매일 1,2시간씩 미션 진행하기

- 한번에 모두 구현하기 보다 **매일 일정한 시간 투자하는 것이 정말 중요**함.
- 일주일에 **최소 4회 이상 코드리뷰 요청**을 보내 코드 리뷰 받기
- 이전 과정의 경우 **최소 하루에 2시간 이상 투자**해야 미션을 완료할 수 있었음.

### 가진 것을 비우기

- 요구사항 규모에 비해 극단적인 리팩토링을 요구하는 경우가 많다.
- 거부감이 들 수 있지만 일단 적용해 보고, 적용하기 전과 후의 코드를 분석해 본다.
- **자신이 가진 것을 비울 때 가장 많은 것을 배울 수 있다.**

## 내가 테스트에 집착하는 이유

### 단계별 개발 문화

특별한 표준이 있는 것은 아니고 내가 임의로 정한 단계

- 1단계 : svn, git 등을 활용해 코드 버전 관리
- 2단계 : 이슈 관리 시스템을 통한 기능 및 일정 관리
- 3단계 : 지속적 통합 도구를 활용한 피드백 환경
  - 문제를 빨리 발견하면 할 수록 생산성은 높아진다.
- 4단계 : 코드리뷰 - 온라인 또는 짝 프로그래밍
- 5단계 : 지속적 배포

수 많은 이유 때문에 자동화된 테스트를 만들지 않는 것이 현실이다.

이 같은 문제에 대한 해결책이 **Test Driven Developmenet(테스트 주도 개발, 이하 TDD)**이다.

## 나는 왜 TDD에 집착하는가?

1. 나는 사람이다. 사람달게 살고 싶다.(요구사항 변경, 추가 시 확인할 수 있다)
2. 한 번에 한 가지만 집중할 수 있다.

- Test fails => Test passes
  - 입력, 출력에 집중
  - 로직을 구현하는 것에 집중
  - 테스트를 통과하기 위해 어떠한 행위도 허용
- **심적으로 안정감을 얻을 수 있다.(좋은 설계를 할 수 있다)**
- 리팩토링
  - 설계 
  - 클린코드

처음부터 완벽한 설계를 하는 것이 아니라 **점진적으로 설계**를 개선해 나갈 수 있다.

- 변화에 빠르게 대응할 수 있는 소스 코드와 연습
- 과도한 설계(Overengineering)에 따른 추가 비용을 해소

자동화된 테스트가 활용한 개발 사이클을 이용하면 **피드백을 받기까지의 시간**이 처음에는 오래 걸리지만 나중에는 짧아진다.

### 빠른 피드백을 통한 개발 효율

- 버그를 찾는 시점이 빨라짐.
- 일정한 리듬으로 일함으로써 프로그래밍에 재미를 느낌
- 더 많은 삽질을 할 수 있음. 삽질은 더 많음 배움

## TDD 적용 효과

- 개발자들의 역량 강화
- 수동 테스트, 배포에 대한 부담을 줄이면서 핵심 비지니스 로직 구현에 집중

지금 필요한 것은 새로운 접근 방식에 도전할 수 있는 **용기**



